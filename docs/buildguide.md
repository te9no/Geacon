# ビルドガイド
## 部品確認
### 付属品
|名前|数|備考|
|:-|---:|:-|
|メインPCB|x1| |
|PMW3610用PCB|x1| |
|バッテリー用ケーブル|x1|※無線化する場合のみ|
|スイッチプレート（Ｌ）|x1| |
|スイッチプレート（Ｒ）|x1| |
|ケース（L）|x1| |
|ケース（C）|x1| |
|ケース（R）|x1| |
|リセットスイッチボタン|x1| |
|トラックボールケース|x1| |
|2mmセラミックボール|x3| |
|M3x5mmネジ|x8| |
|M2x5mmネジ|x2| |
|L字ピンヘッダー|x1| |
|細い結束バンド|x2| |
 
### 別途用意するもの
|名前|数|備考|
|:-|---:|:-|
|34mmボール|x1| |
|2Uプレートマウントスタビライザー|x4| |
|キースイッチ|x62| |
|キーソケット|x62| |
|キーキャップ（日本語配列 or 英語配列）| | |
|3.7V電池（Lipoバッテリー902540想定）|x1|※無線化する場合のみ ※もう少し小さいものでも十分ですが、厚さ9mm以下にして下さい。|
 
## スイッチソケット（PCBマウントスタビライザー）の実装
ソケットは日本語配列と英語配列で使用するキーに注意しながらはんだ付けする。  
PCBマウントスタビライザーを使用する場合はここで実装する。  
 
## トラックボール基板の実装
メインPCBを表向き（ロゴは右側）にして、L字ピンヘッダーの短いピンが左側に伸びるように差し込む。  
ピンヘッダーをマスキングテープなどで固定し、裏からはんだ付けする。  
はんだ付け後、裏面に伸びたピンは適当な長さでカットする。  
メインPCBを表向きにして、トラックボール基板をレンズが左側を向くようにして差し込む。  
トラックボール基板とL字ピンヘッダーをはんだ付けする。  
はんだ付け後、トラックボール基板から伸びたピンは適当な長さでカットする。  
 
## バッテリーケーブルの実装
メイン基板を裏向きにして、バッテリーのパッドに＋－を間違えないようにしてケーブルを差し込む。  
表からはんだ付けする。  
はんだ付け後、裏面に伸びたリード線はショートしないようにカットする。  
バッテリーケーブルはテープや接着剤でPCBに固定することを推奨。  
（失敗事例：ぶらぶらしたケーブルがPCBのネジ穴とケースの固定用突起に挟まったままPCBを挿入したことで、ケーブルが切断された）  
 
## バッテリーの実装
ケース左上の空間にバッテリーを両面テープなどで固定する。  
バッテリーケーブルとバッテリーを接続する。（赤線と赤線、黒線と黒線がつながるようにすること。）  
 
## スイッチプレートの組み立て
プレートマウントスタビライザーを使用する場合は、スイッチプレートにスタビライザーを実装する。  
スイッチプレートとメインPCBを重ねてスイッチを挿していく。  
 
## ケースの組み立て
ケース部品3点を組み合わせる。  
ケース内側の結合用突起に結束バンドを付けて固定する。  
リセットスイッチをケース内側から差し込む。（吹き飛びやすいので注意）  
メインPCBをケースに取り付ける。この時、バッテリーケーブルがPCBのネジ穴とケースの固定用突起などに挟まれないように注意すること。  
M3ネジでPCBをケースに固定する。  
ケースを組み合わせた状態で、230度くらいのハンダゴテでケースの繋ぎ目を裏からなぞることで融着させて強度を上げることができるかもしれません。 
 
## トラックボールケースの実装
トラックボールケースを差し込み、裏からM2ネジで固定する。  
 
## ファームウェアの書き込み
USBケーブルでPCに接続する。  
裏面のリセットスイッチを素早く2回クリックするとUSBドライブとしてマウントされる。  
UF2ファイルをドラッグ＆ドロップするとファームウェアの書き込みが始まる。  
完了すると自動的に切断され、使用できる状態となる。  
 
## レイヤー機能
|#|レイヤー|
|:-|:---|
|0|USレイヤー|
|1|疑似JISレイヤー|
|2|Functionレイヤー|
|3|マウスレイヤー|
|4|スクロールレイヤー|
|5|BTレイヤー|

### JISレイヤー機能
・tabキー長押しでレイヤー1（疑似JISレイヤー）を有効/無効を切り替える。  
・レイヤー1は日本語配列として認識しているキーボードで英語配列の入力ができる。  
（例：日本語配列として認識しているPCで、レイヤー1を有効にしてSHIFT+2→＠を入力）  
### マウスレイヤー機能
・レイヤー3はトラックボールが動いている間にのみ有効になる。  
|キー|機能|
|:-|:-|
|「.」キー|左クリック|
|「/」キー|中央クリック|
|「右SHIFT」キー|右クリック|

### スクロール機能
・レイヤー2を有効にしている間、レイヤー4が有効になり、トラックボールを動かすとスクロールする。 

### 接続プロファイル切り替え機能
・「＼」キーを押している間レイヤー5が有効になり、同時に数字1~5を押すことで接続プロファイルを切り替える。  
・レイヤー5で「`」キー→現在の接続プロファイルを消去する。tabキー→接続プロファイルを全て消去する。  
 
## その他
電源スイッチは左側でON、右側でOFFとなる。  
 
## PCBの外し方
トラックボールケースを固定しているネジを外す。
トラックボールケースを外す。  
電源スイッチとケースの隙間にマイナスドライバーなどを差し込み、PCBを持ち上げる。  
左端にできたケースとPCBの隙間にカードなどを差し込み、電源スイッチ付近を押し込むと、左下が持ち上がる。  
PCB左側を持ち上げたまま中央部分も持ち上げてケースから外す。  